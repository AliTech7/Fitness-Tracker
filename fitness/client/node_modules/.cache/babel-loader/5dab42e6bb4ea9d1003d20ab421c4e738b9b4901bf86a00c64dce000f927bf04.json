{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate,Link}from\"react-router-dom\";import RemoveActivity from\"../components/RemoveActivity\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){const[activities,setActivities]=useState([]);const navigate=useNavigate();const token=localStorage.getItem(\"authToken\");useEffect(()=>{if(!token){navigate(\"/login\");return;}fetchActivities();},[token,navigate]);const fetchActivities=()=>{axios.get(\"http://localhost:8000/activity\",{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{setActivities(res.data);}).catch(err=>{var _err$response;console.log(\"Error fetching activities:\",err);if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===401){navigate(\"/login\");}});};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString();};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Activities\"}),/*#__PURE__*/_jsx(Link,{to:\"/activity/new\",className:\"btn btn-primary\",children:\"Add New Activity\"})]}),activities.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:\"No activities found. Start by adding a new activity!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:activities.map(activity=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:/*#__PURE__*/_jsx(Link,{to:\"/activity/\".concat(activity._id),className:\"text-decoration-none\",children:activity.name})}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Type:\"}),\" \",activity.type,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Duration:\"}),\" \",activity.duration,\" minutes\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",formatDate(activity.date),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",activity.description]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/activity/edit/\".concat(activity._id),className:\"btn btn-warning\",children:\"Edit\"}),/*#__PURE__*/_jsx(RemoveActivity,{activityId:activity._id,cd:fetchActivities})]})]})})},activity._id))})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","Link","RemoveActivity","jsx","_jsx","jsxs","_jsxs","Dashboard","activities","setActivities","navigate","token","localStorage","getItem","fetchActivities","get","headers","Authorization","concat","then","res","data","catch","err","_err$response","console","log","response","status","formatDate","dateString","Date","toLocaleDateString","className","children","to","length","map","activity","_id","name","type","duration","date","description","activityId","cd"],"sources":["C:/Users/farsh/OneDrive/Desktop/LOGOAFPROPAINTING/Ali-Resumes/WebProjects/New-Projects/FitnessTracker/fitness/client/src/views/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, Link } from \"react-router-dom\";\r\nimport RemoveActivity from \"../components/RemoveActivity\";\r\n\r\nfunction Dashboard() {\r\n    const [activities, setActivities] = useState([]);\r\n    const navigate = useNavigate();\r\n    const token = localStorage.getItem(\"authToken\");\r\n\r\n    useEffect(() => {\r\n        if (!token) {\r\n            navigate(\"/login\");\r\n            return;\r\n        }\r\n        fetchActivities();\r\n    }, [token, navigate]);\r\n\r\n    const fetchActivities = () => {\r\n        axios.get(\"http://localhost:8000/activity\", {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        })\r\n        .then(res => {\r\n            setActivities(res.data);\r\n        })\r\n        .catch(err => {\r\n            console.log(\"Error fetching activities:\", err);\r\n            if (err.response?.status === 401) {\r\n                navigate(\"/login\");\r\n            }\r\n        });\r\n    };\r\n\r\n    const formatDate = (dateString) => {\r\n        return new Date(dateString).toLocaleDateString();\r\n    };\r\n\r\n    return (\r\n        <div className=\"container mt-5\">\r\n            <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n                <h2>My Activities</h2>\r\n                <Link to=\"/activity/new\" className=\"btn btn-primary\">\r\n                    Add New Activity\r\n                </Link>\r\n            </div>\r\n\r\n            {activities.length === 0 ? (\r\n                <div className=\"alert alert-info\">\r\n                    No activities found. Start by adding a new activity!\r\n                </div>\r\n            ) : (\r\n                <div className=\"row\">\r\n                    {activities.map((activity) => (\r\n                        <div key={activity._id} className=\"col-md-6 mb-3\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title\">\r\n                                        <Link \r\n                                            to={`/activity/${activity._id}`}\r\n                                            className=\"text-decoration-none\"\r\n                                        >\r\n                                            {activity.name}\r\n                                        </Link>\r\n                                    </h5>\r\n                                    <p className=\"card-text\">\r\n                                        <strong>Type:</strong> {activity.type}<br />\r\n                                        <strong>Duration:</strong> {activity.duration} minutes<br />\r\n                                        <strong>Date:</strong> {formatDate(activity.date)}<br />\r\n                                        <strong>Description:</strong> {activity.description}\r\n                                    </p>\r\n                                    <div className=\"d-flex gap-2\">\r\n                                        <Link \r\n                                            to={`/activity/edit/${activity._id}`}\r\n                                            className=\"btn btn-warning\"\r\n                                        >\r\n                                            Edit\r\n                                        </Link>\r\n                                        <RemoveActivity \r\n                                            activityId={activity._id} \r\n                                            cd={fetchActivities}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}