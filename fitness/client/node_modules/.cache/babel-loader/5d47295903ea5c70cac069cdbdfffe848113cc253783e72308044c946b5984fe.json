{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate,useParams,Link}from\"react-router-dom\";import RemoveActivity from\"../components/RemoveActivity\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Show(){const[activity,setActivity]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const navigate=useNavigate();const{id}=useParams();const token=localStorage.getItem(\"authToken\");useEffect(()=>{if(!token){navigate(\"/login\");return;}fetchActivity();},[id,token,navigate]);const fetchActivity=()=>{axios.get(\"http://localhost:8000/activity/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{setActivity(res.data);setLoading(false);}).catch(err=>{var _err$response,_err$response$data,_err$response2;console.log(\"Error fetching activity:\",err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Error loading activity\");setLoading(false);if(((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===401){navigate(\"/login\");}});};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString();};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:error}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"btn btn-primary\",children:\"Back to Dashboard\"})]});}if(!activity){return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",role:\"alert\",children:\"Activity not found\"}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"btn btn-primary\",children:\"Back to Dashboard\"})]});}return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:activity.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"dl\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"col-sm-3\",children:\"Type:\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"col-sm-9\",children:/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-\".concat(activity.type==='cardio'?'danger':activity.type==='strength'?'primary':activity.type==='flexibility'?'success':'info'),children:activity.type})}),/*#__PURE__*/_jsx(\"dt\",{className:\"col-sm-3\",children:\"Duration:\"}),/*#__PURE__*/_jsxs(\"dd\",{className:\"col-sm-9\",children:[activity.duration,\" minutes\"]}),/*#__PURE__*/_jsx(\"dt\",{className:\"col-sm-3\",children:\"Date:\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"col-sm-9\",children:formatDate(activity.date)}),/*#__PURE__*/_jsx(\"dt\",{className:\"col-sm-3\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"col-sm-9\",children:activity.description||\"No description provided\"})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(Link,{to:\"/activity/edit/\".concat(activity._id),className:\"btn btn-warning\",children:\"Edit\"}),/*#__PURE__*/_jsx(RemoveActivity,{activityId:activity._id,cd:()=>navigate(\"/dashboard\")}),/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"btn btn-secondary\",children:\"Back to Dashboard\"})]})})]})});}export default Show;","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","useParams","Link","RemoveActivity","jsx","_jsx","jsxs","_jsxs","Show","activity","setActivity","loading","setLoading","error","setError","navigate","id","token","localStorage","getItem","fetchActivity","get","concat","headers","Authorization","then","res","data","catch","err","_err$response","_err$response$data","_err$response2","console","log","response","message","status","formatDate","dateString","Date","toLocaleDateString","className","children","role","to","name","type","duration","date","description","_id","activityId","cd"],"sources":["C:/Users/farsh/OneDrive/Desktop/LOGOAFPROPAINTING/Ali-Resumes/WebProjects/New-Projects/FitnessTracker/fitness/client/src/views/Show.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams, Link } from \"react-router-dom\";\r\nimport RemoveActivity from \"../components/RemoveActivity\";\r\n\r\nfunction Show() {\r\n    const [activity, setActivity] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const navigate = useNavigate();\r\n    const { id } = useParams();\r\n    const token = localStorage.getItem(\"authToken\");\r\n\r\n    useEffect(() => {\r\n        if (!token) {\r\n            navigate(\"/login\");\r\n            return;\r\n        }\r\n        \r\n        fetchActivity();\r\n    }, [id, token, navigate]);\r\n\r\n    const fetchActivity = () => {\r\n        axios.get(`http://localhost:8000/activity/${id}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        })\r\n        .then(res => {\r\n            setActivity(res.data);\r\n            setLoading(false);\r\n        })\r\n        .catch(err => {\r\n            console.log(\"Error fetching activity:\", err);\r\n            setError(err.response?.data?.message || \"Error loading activity\");\r\n            setLoading(false);\r\n            if (err.response?.status === 401) {\r\n                navigate(\"/login\");\r\n            }\r\n        });\r\n    };\r\n\r\n    const formatDate = (dateString) => {\r\n        return new Date(dateString).toLocaleDateString();\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"container mt-5\">\r\n                <div className=\"text-center\">\r\n                    <div className=\"spinner-border\" role=\"status\">\r\n                        <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"container mt-5\">\r\n                <div className=\"alert alert-danger\" role=\"alert\">\r\n                    {error}\r\n                </div>\r\n                <Link to=\"/dashboard\" className=\"btn btn-primary\">\r\n                    Back to Dashboard\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!activity) {\r\n        return (\r\n            <div className=\"container mt-5\">\r\n                <div className=\"alert alert-info\" role=\"alert\">\r\n                    Activity not found\r\n                </div>\r\n                <Link to=\"/dashboard\" className=\"btn btn-primary\">\r\n                    Back to Dashboard\r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mt-5\">\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <h2>{activity.name}</h2>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-8\">\r\n                            <dl className=\"row\">\r\n                                <dt className=\"col-sm-3\">Type:</dt>\r\n                                <dd className=\"col-sm-9\">\r\n                                    <span className={`badge bg-${\r\n                                        activity.type === 'cardio' ? 'danger' :\r\n                                        activity.type === 'strength' ? 'primary' :\r\n                                        activity.type === 'flexibility' ? 'success' : 'info'\r\n                                    }`}>\r\n                                        {activity.type}\r\n                                    </span>\r\n                                </dd>\r\n\r\n                                <dt className=\"col-sm-3\">Duration:</dt>\r\n                                <dd className=\"col-sm-9\">{activity.duration} minutes</dd>\r\n\r\n                                <dt className=\"col-sm-3\">Date:</dt>\r\n                                <dd className=\"col-sm-9\">{formatDate(activity.date)}</dd>\r\n\r\n                                <dt className=\"col-sm-3\">Description:</dt>\r\n                                <dd className=\"col-sm-9\">\r\n                                    {activity.description || \"No description provided\"}\r\n                                </dd>\r\n                            </dl>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"card-footer\">\r\n                    <div className=\"d-flex gap-2\">\r\n                        <Link \r\n                            to={`/activity/edit/${activity._id}`}\r\n                            className=\"btn btn-warning\"\r\n                        >\r\n                            Edit\r\n                        </Link>\r\n                        <RemoveActivity \r\n                            activityId={activity._id}\r\n                            cd={() => navigate(\"/dashboard\")}\r\n                        />\r\n                        <Link \r\n                            to=\"/dashboard\"\r\n                            className=\"btn btn-secondary\"\r\n                        >\r\n                            Back to Dashboard\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Show; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}